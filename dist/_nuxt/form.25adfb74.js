import{_ as S}from"./HeaderCustom.vue.9f05ba53.js";import{f as A,B as U,h as V,r as m,g as B,C as j,D,E,o as N,c as q,b as z,a as e,j as d,l as u,m as l,t as i,n as F,y as c,z as v,A as x}from"./entry.9da6a2f2.js";import"./_plugin-vue_export-helper.c27b6911.js";const M={class:"w-full h-full flex flex-col"},P={class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},T={class:"w-full align-items-center justify-content-center grow overflow-auto"},G={class:"w-full flex flex-col flex-wrap p-1"},I=e("label",{for:""},"Username",-1),R={class:"text-red-500"},H={class:"w-full flex flex-col flex-wrap p-1"},O=e("label",{for:""},"Email",-1),Y={class:"text-red-500"},J={class:"w-full flex flex-col flex-wrap p-1"},K=e("label",{for:""},"Phone Number",-1),L={class:"text-red-500"},Q={class:"w-full flex flex-col flex-wrap p-1"},W=e("label",{for:""},"Fullname",-1),X={class:"text-red-500"},Z={class:"w-full flex flex-col flex-wrap p-1"},ee=e("label",{for:""},"Password",-1),oe={class:"text-red-500"},te={class:"w-full flex flex-col flex-wrap p-1"},le=e("label",{for:""},"Izinkan Masuk?",-1),se=e("option",{value:"1"},"Ya",-1),ae=e("option",{value:"0"},"Tidak",-1),ne=[se,ae],re={class:"text-red-500"},de={class:"w-full flex items-center justify-end"},fe=A({__name:"form",async setup(ie){let p,_;U();const b=V("token"),n=m({}),g=B(),w=j(),y=m(!1),{data:t}=([p,_]=D(async()=>E(async()=>{const s=w.query.id;if(s!==void 0&&s!==""){c().loading_full=!0;const{data:o,error:r,status:a}=await v("/api/member",{method:"get",headers:{Authorization:`Bearer ${b.value}`,Accept:"application/json"},params:{id:s},retry:0},"$jqGpEs5qCG");if(c().loading_full=!1,a.value==="error")x().trigger(r,n);else return o.value.data.photo&&(y.value=!0),o.value.data}return{id:-1,username:"",email:"",phone_number:"",fullname:"",password:"",can_login:"0",photo:""}},"$5Otkf9IS3a")),p=await p,_(),p),f=m(null),k=async()=>{var h;c().loading_full=!0,n.value={};const s=new FormData;s.append("username",t.value.username),s.append("email",t.value.email),s.append("phone_number",t.value.phone_number),s.append("fullname",t.value.fullname),s.append("password",t.value.password),s.append("can_login",t.value.can_login),(h=f.value)!=null&&h.files&&s.append("photo",f.value.files[0]||""),f.value&&s.append("photo_preview",t.value.photo);let o="post",r=w.query.id;r===""||(o="post",s.append("id",r),s.append("_method","PUT"));const{data:a,error:C,status:$}=await v("/api/member",{method:o,headers:{Authorization:`Bearer ${b.value}`,Accept:"application/json"},body:s,retry:0},"$rBS6PCN4ND");if(c().loading_full=!1,$.value==="error"){x().trigger(C,n);return}g.go(-1)};return(s,o)=>{const r=S;return N(),q("div",M,[z(r,{title:"Form Member",back:!0}),e("div",P,[e("div",T,[e("div",G,[I,d(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>l(t).username=a)},null,512),[[u,l(t).username]]),e("p",R,i(l(n).username),1)]),e("div",H,[O,d(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"text","onUpdate:modelValue":o[1]||(o[1]=a=>l(t).email=a)},null,512),[[u,l(t).email]]),e("p",Y,i(l(n).email),1)]),e("div",J,[K,d(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"text","onUpdate:modelValue":o[2]||(o[2]=a=>l(t).phone_number=a)},null,512),[[u,l(t).phone_number]]),e("p",L,i(l(n).phone_number),1)]),e("div",Q,[W,d(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"text","onUpdate:modelValue":o[3]||(o[3]=a=>l(t).fullname=a)},null,512),[[u,l(t).fullname]]),e("p",X,i(l(n).fullname),1)]),e("div",Z,[ee,d(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"password","onUpdate:modelValue":o[4]||(o[4]=a=>l(t).password=a)},null,512),[[u,l(t).password]]),e("p",oe,i(l(n).password),1)]),e("div",te,[le,d(e("select",{class:"w-full border-black border-solid border-2 p-1","onUpdate:modelValue":o[5]||(o[5]=a=>l(t).can_login=a)},ne,512),[[F,l(t).can_login]]),e("p",re,i(l(n).can_login),1)])]),e("div",de,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:o[6]||(o[6]=a=>s.$router.go(-1))}," Cancel "),e("button",{type:"button",name:"button",class:"w-36 m-1 bg-blue-600 text-white p-2 rounded-sm",onClick:o[7]||(o[7]=a=>k())}," Save ")])])])}}});export{fe as default};
