import{_ as k}from"./HeaderCustom.vue.9f05ba53.js";import{f as A,B as U,h as S,r as C,g as $,C as B,D as V,E as j,o as M,c as z,b as D,a as e,j as i,l as p,m as l,t as d,n as w,y as c,z as b,A as v}from"./entry.9da6a2f2.js";import"./_plugin-vue_export-helper.c27b6911.js";const E={class:"w-full h-full flex flex-col"},N={class:"w-full flex grow flex-col h-0 overflow-auto bg-white"},q={class:"w-full align-items-center justify-content-center grow overflow-auto"},F={class:"w-full flex flex-col flex-wrap p-1"},H=e("label",{for:""},"Email",-1),I={class:"text-red-500"},J={class:"w-full flex flex-col flex-wrap p-1"},R=e("label",{for:""},"Nama Identitas",-1),T={class:"text-red-500"},K={class:"w-full flex flex-col flex-wrap p-1"},Y=e("label",{for:""},"Kata Sandi",-1),G={class:"text-red-500"},L={class:"w-full flex flex-col flex-wrap p-1"},O=e("label",{for:""},"Jabatan",-1),P=e("option",{value:"User"},"User",-1),Q=e("option",{value:"Admin"},"Admin",-1),W=e("option",{value:"Marketing"},"Marketing",-1),X=e("option",{value:"Super_Admin"},"Super Admin",-1),Z=[P,Q,W,X],ee={class:"text-red-500"},oe={class:"w-full flex",style:{"flex-flow":"column wrap",padding:"4px"}},te=e("label",{for:""},"Izinkan Masuk?",-1),le=e("option",{value:"1"},"Ya",-1),se=e("option",{value:"0"},"Tidak",-1),ae=[le,se],re={class:"text-red-500"},ne={class:"w-full flex items-center justify-end"},pe=A({__name:"form",async setup(ie){let u,f;U();const _=S("token"),a=C({}),x=$(),m=B(),{data:t}=([u,f]=V(async()=>j(async()=>{const r=m.query.id;if(r!==void 0&&r!==""){c().loading_full=!0;const{data:o,error:n,status:s}=await b("/api/user",{method:"get",headers:{Authorization:`Bearer ${_.value}`,Accept:"application/json"},params:{id:r},retry:0},"$JHRF0UyT87");if(c().loading_full=!1,s.value==="error")v().trigger(n,a);else return o.value.data}return{id:-1,email:"",fullname:"",password:"",role:"User",can_login:"0"}},"$k7jNkyJiH3")),u=await u,f(),u),h=async()=>{c().loading_full=!0,a.value={};let r={email:t.value.email,password:t.value.password,fullname:t.value.fullname,role:t.value.role,can_login:t.value.can_login},o="post",n=m.query.id;n===""||(o="put",r.id=n);const{data:s,error:g,status:y}=await b("/api/user",{method:o,headers:{Authorization:`Bearer ${_.value}`,Accept:"application/json"},body:r,retry:0},"$xInBpMk1rU");if(c().loading_full=!1,y.value==="error"){v().trigger(g,a);return}x.go(-1)};return(r,o)=>{const n=k;return M(),z("div",E,[D(n,{title:"Form User",back:!0}),e("div",N,[e("div",q,[e("div",F,[H,i(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>l(t).email=s)},null,512),[[p,l(t).email]]),e("p",I,d(l(a).email),1)]),e("div",J,[R,i(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>l(t).fullname=s)},null,512),[[p,l(t).fullname]]),e("p",T,d(l(a).fullname),1)]),e("div",K,[Y,i(e("input",{class:"w-full border-black border-solid border-2 p-1",type:"password","onUpdate:modelValue":o[2]||(o[2]=s=>l(t).password=s)},null,512),[[p,l(t).password]]),e("p",G,d(l(a).password),1)]),e("div",L,[O,i(e("select",{class:"w-full border-black border-solid border-2 p-1","onUpdate:modelValue":o[3]||(o[3]=s=>l(t).role=s)},Z,512),[[w,l(t).role]]),e("p",ee,d(l(a).role),1)]),e("div",oe,[te,i(e("select",{class:"w-full border-black border-solid border-2 p-1","onUpdate:modelValue":o[4]||(o[4]=s=>l(t).can_login=s)},ae,512),[[w,l(t).can_login]]),e("p",re,d(l(a).can_login),1)])]),e("div",ne,[e("button",{type:"button",name:"button",class:"w-36 m-1",onClick:o[5]||(o[5]=s=>r.$router.go(-1))}," Cancel "),e("button",{type:"button",name:"button",class:"w-36 m-1 bg-blue-600 text-white p-2 rounded-sm",onClick:o[6]||(o[6]=s=>h())}," Save ")])])])}}});export{pe as default};
